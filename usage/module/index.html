
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://lostma-erc.github.io/heurist-etl-pipeline/usage/module/">
      
      
        <link rel="prev" href="../schema/">
      
      
        <link rel="next" href="../rstudio/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.5">
    
    
      
        <title>Python API client - Heurist ETL</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.8608ea7d.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
      
        <meta  property="og:type"  content="website" >
      
        <meta  property="og:title"  content="Python API client - Heurist ETL" >
      
        <meta  property="og:description"  content="None" >
      
        <meta  property="og:image"  content="https://lostma-erc.github.io/heurist-etl-pipeline/assets/images/social/usage/module.png" >
      
        <meta  property="og:image:type"  content="image/png" >
      
        <meta  property="og:image:width"  content="1200" >
      
        <meta  property="og:image:height"  content="630" >
      
        <meta  property="og:url"  content="https://lostma-erc.github.io/heurist-etl-pipeline/usage/module/" >
      
        <meta  name="twitter:card"  content="summary_large_image" >
      
        <meta  name="twitter:title"  content="Python API client - Heurist ETL" >
      
        <meta  name="twitter:description"  content="None" >
      
        <meta  name="twitter:image"  content="https://lostma-erc.github.io/heurist-etl-pipeline/assets/images/social/usage/module.png" >
      
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="purple" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#python-api-client" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Heurist ETL" class="md-header__button md-logo" aria-label="Heurist ETL" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Heurist ETL
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Python API client
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Heurist ETL" class="md-nav__button md-logo" aria-label="Heurist ETL" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Heurist ETL
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Usage
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Usage
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Installation & basic usage
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2" >
        
          
          <label class="md-nav__link" for="__nav_2_2" id="__nav_2_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Download
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_2">
            <span class="md-nav__icon md-icon"></span>
            Download
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../download/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Basic: My record types
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../download/group_types/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Multiple record groups
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../download/export_csv/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Export CSV
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../download/user_filter/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Filter by user
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../download/date_validation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Strict date validation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../download/logs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Logs & name changes
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../records/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Export from API
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../schema/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Generate schema
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Python API client
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Python API client
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#demos" class="md-nav__link">
    <span class="md-ellipsis">
      Demos
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#coding-with-the-etl-workflow" class="md-nav__link">
    <span class="md-ellipsis">
      Coding with the ETL workflow
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Coding with the ETL workflow">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-create-the-heurist-api-client" class="md-nav__link">
    <span class="md-ellipsis">
      1. Create the heurist API client
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-create-a-duckdb-connection" class="md-nav__link">
    <span class="md-ellipsis">
      2. Create a DuckDB connection
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-run-the-etl-process" class="md-nav__link">
    <span class="md-ellipsis">
      3. Run the ETL process
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3. Run the ETL process">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#multiple-record-type-groups" class="md-nav__link">
    <span class="md-ellipsis">
      Multiple record type groups
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#check-your-datas-validation" class="md-nav__link">
    <span class="md-ellipsis">
      Check your data's validation
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#duckdb-python-as-a-pivot-format" class="md-nav__link">
    <span class="md-ellipsis">
      DuckDB Python as a pivot format
    </span>
  </a>
  
    <nav class="md-nav" aria-label="DuckDB Python as a pivot format">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#heurist-duckdb-to-something-else" class="md-nav__link">
    <span class="md-ellipsis">
      Heurist DuckDB -&gt; to something else
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Heurist DuckDB -> to something else">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pandas-dataframe" class="md-nav__link">
    <span class="md-ellipsis">
      Pandas dataframe
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#parquet-csv-files" class="md-nav__link">
    <span class="md-ellipsis">
      Parquet, CSV files
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#something-else-heurist-duckdb" class="md-nav__link">
    <span class="md-ellipsis">
      Something else -&gt; Heurist DuckDB
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Something else -> Heurist DuckDB">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#other-data-files" class="md-nav__link">
    <span class="md-ellipsis">
      Other data files
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#other-dataframes" class="md-nav__link">
    <span class="md-ellipsis">
      Other dataframes
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../rstudio/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    R-studio integration
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Code reference
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Code reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_1" >
        
          
          <label class="md-nav__link" for="__nav_3_1" id="__nav_3_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    api
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_1">
            <span class="md-nav__icon md-icon"></span>
            api
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/api/client/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    client
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/api/constants/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    constants
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/api/exceptions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    exceptions
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/api/param_manager/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    param_manager
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/api/session/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    session
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/api/url_builder/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    url_builder
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2" >
        
          
          <label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    converters
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2">
            <span class="md-nav__icon md-icon"></span>
            converters
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/converters/date_handler/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    date_handler
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/converters/detail_converter/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    detail_converter
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/converters/dynamic_pydantic_data_field/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    dynamic_pydantic_data_field
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/converters/dynamic_record_type_modeler/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    dynamic_record_type_modeler
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/converters/exceptions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    exceptions
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/converters/model_validation_prep/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    model_validation_prep
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/converters/type_handler/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    type_handler
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3" >
        
          
          <label class="md-nav__link" for="__nav_3_3" id="__nav_3_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    database
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3">
            <span class="md-nav__icon md-icon"></span>
            database
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/database/basedb/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    basedb
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/database/database/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    database
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_4" >
        
          
          <label class="md-nav__link" for="__nav_3_4" id="__nav_3_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    models
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_4">
            <span class="md-nav__icon md-icon"></span>
            models
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/models/DetailTypes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    DetailTypes
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/models/RecStructure/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    RecStructure
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/models/RecTypeGroups/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    RecTypeGroups
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/models/RecTypes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    RecTypes
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/models/Terms/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Terms
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/models/dty/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    dty
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/models/hml_structure/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    hml_structure
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/models/rst/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    rst
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/models/rtg/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    rtg
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/models/rty/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    rty
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/models/trm/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    trm
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/models/utils/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    utils
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_5" >
        
          
          <label class="md-nav__link" for="__nav_3_5" id="__nav_3_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    schema
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_5">
            <span class="md-nav__icon md-icon"></span>
            schema
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/schema/models/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    models
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/schema/rel_to_dict/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    rel_to_dict
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_6" >
        
          
          <label class="md-nav__link" for="__nav_3_6" id="__nav_3_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    sql
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_6">
            <span class="md-nav__icon md-icon"></span>
            sql
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/sql/sql_safety/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    sql_safety
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_7" >
        
          
          <label class="md-nav__link" for="__nav_3_7" id="__nav_3_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    utils
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_7">
            <span class="md-nav__icon md-icon"></span>
            utils
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/utils/constants/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    constants
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/utils/rel_to_dict_array/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    rel_to_dict_array
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_8" >
        
          
          <label class="md-nav__link" for="__nav_3_8" id="__nav_3_8_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    workflows
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_8">
            <span class="md-nav__icon md-icon"></span>
            workflows
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/workflows/etl/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    etl
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Development
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Development
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../development/contributing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Contributing
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../development/code_of_conduct/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Code of conduct
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../development/coverage/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Coverage
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../development/publishing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Publishing
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../legal/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Credits
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="https://github.com/LostMa-ERC/heurist-etl-pipeline" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    GitHub
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#demos" class="md-nav__link">
    <span class="md-ellipsis">
      Demos
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#coding-with-the-etl-workflow" class="md-nav__link">
    <span class="md-ellipsis">
      Coding with the ETL workflow
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Coding with the ETL workflow">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-create-the-heurist-api-client" class="md-nav__link">
    <span class="md-ellipsis">
      1. Create the heurist API client
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-create-a-duckdb-connection" class="md-nav__link">
    <span class="md-ellipsis">
      2. Create a DuckDB connection
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-run-the-etl-process" class="md-nav__link">
    <span class="md-ellipsis">
      3. Run the ETL process
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3. Run the ETL process">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#multiple-record-type-groups" class="md-nav__link">
    <span class="md-ellipsis">
      Multiple record type groups
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#check-your-datas-validation" class="md-nav__link">
    <span class="md-ellipsis">
      Check your data's validation
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#duckdb-python-as-a-pivot-format" class="md-nav__link">
    <span class="md-ellipsis">
      DuckDB Python as a pivot format
    </span>
  </a>
  
    <nav class="md-nav" aria-label="DuckDB Python as a pivot format">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#heurist-duckdb-to-something-else" class="md-nav__link">
    <span class="md-ellipsis">
      Heurist DuckDB -&gt; to something else
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Heurist DuckDB -> to something else">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pandas-dataframe" class="md-nav__link">
    <span class="md-ellipsis">
      Pandas dataframe
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#parquet-csv-files" class="md-nav__link">
    <span class="md-ellipsis">
      Parquet, CSV files
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#something-else-heurist-duckdb" class="md-nav__link">
    <span class="md-ellipsis">
      Something else -&gt; Heurist DuckDB
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Something else -> Heurist DuckDB">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#other-data-files" class="md-nav__link">
    <span class="md-ellipsis">
      Other data files
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#other-dataframes" class="md-nav__link">
    <span class="md-ellipsis">
      Other dataframes
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="python-api-client">Python API Client</h1>
<p>Before using the <code>heurist</code> module, review the <a href="../#installation">instructions on how to install the Python package</a>.</p>
<h2 id="demos">Demos</h2>
<p>Explore Jupyter notebooks in the GitHub repository's folder <a href="https://github.com/LostMa-ERC/heurist-etl-pipeline/tree/main/demos"><code>demos/</code></a>.</p>
<h2 id="coding-with-the-etl-workflow">Coding with the ETL workflow</h2>
<p>You can integrate a Heurist database's tables into your Python application with just <strong><em>3 lines of code</em></strong>!</p>
<h3 id="1-create-the-heurist-api-client">1. Create the <code>heurist</code> API client</h3>
<p>Create an instance of the <code>heurist</code> package's API Client. Provide the name of your Heurist database, your account's login, and your account's password.</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">heurist.api.client</span><span class="w"> </span><span class="kn">import</span> <span class="n">HeuristAPIClient</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">HeuristAPIClient</span><span class="p">(</span>
    <span class="n">database_name</span> <span class="o">=</span> <span class="n">HEURIST_DATABASE</span><span class="p">,</span>
    <span class="n">login</span> <span class="o">=</span> <span class="n">HEURIST_LOGIN</span><span class="p">,</span>
    <span class="n">password</span> <span class="o">=</span> <span class="n">HEURIST_PASSWORD</span>
<span class="p">)</span> 
</code></pre></div>
<h3 id="2-create-a-duckdb-connection">2. Create a DuckDB connection</h3>
<p>Create a connection to a <a href="https://duckdb.org/docs/stable/clients/python/overview.html">DuckDB database</a>.</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="nn">duckdb</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">duckdb</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span>
</code></pre></div>
<p>To preserve the data that <code>heurist</code> extracts, transforms, and loads into the database, give the <code>connect()</code> method a path to a file, i.e. <code>duckdb.connect("heurist.db")</code>. If no argument is provided, <code>duckdb.connect()</code> creates an in-memory database connection.</p>
<h3 id="3-run-the-etl-process">3. Run the ETL process</h3>
<p>To load all your custom records, meaning all those of types in your "My record types" group, run the <code>extract_transform_load()</code> function with all its defaults, simply providing your (1) API client and (2) DuckDB connection.</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">heurist.workflows</span><span class="w"> </span><span class="kn">import</span> <span class="n">extract_transform_load</span>

<span class="n">extract_transform_load</span><span class="p">(</span>
    <span class="n">client</span> <span class="o">=</span> <span class="n">client</span><span class="p">,</span>
    <span class="n">duckdb_connection</span> <span class="o">=</span> <span class="n">conn</span><span class="p">,</span>
<span class="p">)</span>
</code></pre></div>
<p>To explore all of the <code>extract_transform_load</code> function's parameters, see the <a href="../../reference/workflows/etl/">source code</a>.</p>
<h4 id="multiple-record-type-groups">Multiple record type groups</h4>
<p>If you want to recover records of types in multiple record type groups, list all of them in the <code>record_group_names</code> parameter.</p>
<div class="highlight"><pre><span></span><code><span class="n">extract_transform_load</span><span class="p">(</span>
    <span class="n">client</span> <span class="o">=</span> <span class="n">client</span><span class="p">,</span>
    <span class="n">duckdb_connection</span> <span class="o">=</span> <span class="n">conn</span><span class="p">,</span>
    <span class="n">record_group_names</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;My record types&quot;</span><span class="p">,</span> <span class="s2">&quot;Place, features&quot;</span><span class="p">)</span>
<span class="p">)</span>
</code></pre></div>
<h4 id="check-your-datas-validation">Check your data's validation</h4>
<p>Running the <code>extract_transform_load</code> function causes log files to be generated.</p>
<p>Read the <code>./logs/heurist.db.log</code> file to review all the records in the Heurist database that did not pass the data validation and were not loaded into the DuckDB database. For more information, see the section on <a href="../download/logs/">logs</a>.</p>
<h2 id="duckdb-python-as-a-pivot-format">DuckDB Python as a pivot format</h2>
<p>Having loaded the Heurist records into a DuckDB database, you can begin taking advantage of <a href="https://duckdb.org/docs/stable/clients/python/overview.html">DuckDB's Python client</a>.</p>
<h3 id="heurist-duckdb-to-something-else">Heurist DuckDB -&gt; to something else</h3>
<h4 id="pandas-dataframe">Pandas dataframe</h4>
<p>DuckDB can convert all of its relations (tables, query results, etc.) into <code>pandas</code> dataframes with <code>df()</code>. Because many data science techniques and methods are used to <code>pandas</code>, this is a very useful way to interact with the Heurist data and one of the reasons the <code>heurist</code> package uses DuckDB as a pivot format.</p>
<p>Convert a Heurist table, which has been loaded into the DuckDB database, into a <code>pandas</code> dataframe.</p>
<div class="highlight"><pre><span></span><code><span class="go">&gt;&gt;&gt; conn.table(&quot;Witness&quot;).df()</span>
<span class="go">      H-ID  type_id  ...  review_status TRM-ID             review_note</span>
<span class="go">0    47500      105  ...                  9697                  Check.</span>
<span class="go">1    47897      105  ...                  9697                  Check.</span>
<span class="go">2    47756      105  ...                  9697                  Check.</span>
<span class="go">3    47978      105  ...                  9697                  Check.</span>
<span class="go">4    47552      105  ...                  9697                  Check.</span>
<span class="go">..     ...      ...  ...                   ...                     ...</span>
<span class="go">168  48051      105  ...                  9697  Kienhorst zegt in BNM?</span>
<span class="go">169  47458      105  ...                  9697                    Ref.</span>
<span class="go">170  47454      105  ...                  9697                    Ref.</span>
<span class="go">171  47433      105  ...                  9697             Check, ref.</span>
<span class="go">172  47420      105  ...                  9697           Check, ghost.</span>

<span class="go">[173 rows x 36 columns]</span>
</code></pre></div>
<p>Or convert SQL query results into a <code>pandas</code> dataframe.</p>
<div class="highlight"><pre><span></span><code><span class="go">&gt;&gt;&gt; conn.sql(&#39;SELECT * FROM Witness w JOIN TextTable t ON w.&quot;is_manifestation_of H-ID&quot; = t.&quot;H-ID&quot;&#39;).df()</span>
<span class="go">      H-ID  type_id  ...  review_status TRM-ID_1 review_note_1</span>
<span class="go">0    47792      105  ...                  9697.0        Check.</span>
<span class="go">1    48339      105  ...                  9697.0         Check</span>
<span class="go">2    47906      105  ...                  9697.0        Check.</span>
<span class="go">3    48356      105  ...                  9697.0         Check</span>
<span class="go">4    47912      105  ...                  9697.0        Check.</span>
<span class="go">..     ...      ...  ...                     ...           ...</span>
<span class="go">168  47742      105  ...                  9697.0        Check.</span>
<span class="go">169  47738      105  ...                  9697.0        Check.</span>
<span class="go">170  47725      105  ...                  9697.0        Check.</span>
<span class="go">171  47734      105  ...                  9697.0        Check.</span>
<span class="go">172  47637      105  ...                  9697.0        Check.</span>

<span class="go">[173 rows x 89 columns]</span>
</code></pre></div>
<h4 id="parquet-csv-files">Parquet, CSV files</h4>
<p>DuckDB's Python client also lets you export relations into modern file formats commonly used in data science, notably CSV and parquet.</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Execute some SQL query on your database,</span>
<span class="c1"># storing the result in a relation object</span>
<span class="n">rel</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">sql</span><span class="p">(</span><span class="s2">&quot;SELECT * FROM TextTable LIMIT 10&quot;</span><span class="p">)</span>

<span class="c1"># Write the result to a csv file</span>
<span class="n">rel</span><span class="o">.</span><span class="n">write_csv</span><span class="p">(</span><span class="s2">&quot;my_results.csv&quot;</span><span class="p">)</span>

<span class="c1"># Write the result to a parquet file</span>
<span class="n">rel</span><span class="o">.</span><span class="n">write_parquet</span><span class="p">(</span><span class="s2">&quot;my_results.parquet&quot;</span><span class="p">)</span>
</code></pre></div>
<h3 id="something-else-heurist-duckdb">Something else -&gt; Heurist DuckDB</h3>
<p>DuckDB's Python client can also ingest data from other sources and Python objects. This is useful if you want to enrich / complement your Heurist data with information not available in your Heurist database.</p>
<p><a href="https://duckdb.org/docs/stable/clients/python/data_ingestion">Read</a> about DuckDB's Python data ingestion.</p>
<h4 id="other-data-files">Other data files</h4>
<p>You can create new tables or views in your database by reading datasets from external files.</p>
<div class="highlight"><pre><span></span><code><span class="n">conn</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s2">&quot;CREATE TABLE OtherDataset AS SELECT * FROM read_csv(&#39;other_dataset.csv&#39;)&quot;</span><span class="p">)</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="n">conn</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s2">&quot;CREATE TABLE OtherDataset AS SELECT * FROM read_parquet(&#39;other_dataset.parquet&#39;)&quot;</span><span class="p">)</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="n">conn</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s2">&quot;CREATE TABLE OtherDataset AS SELECT * FROM read_json(&#39;other_dataset.json&#39;)&quot;</span><span class="p">)</span>
</code></pre></div>
<p>Then, from within your database connection, you can join your Heurist data with the external dataset.</p>
<div class="highlight"><pre><span></span><code><span class="n">sql</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">SELECT * </span>
<span class="s2">FROM MyHeuristRecord h </span>
<span class="s2">LEFT JOIN OtherDataset o </span>
<span class="s2">    ON h.url = o.url</span>
<span class="s2">&quot;&quot;&quot;</span>
<span class="n">rel</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">sql</span><span class="p">(</span><span class="n">sql</span><span class="p">)</span>
</code></pre></div>
<h4 id="other-dataframes">Other dataframes</h4>
<p>In your DuckDB database connection, you can also select dataframes you've created with <code>pandas</code> and join them with your Heurist data.</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>

<span class="n">new_dataframe</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="o">.</span><span class="n">from_dict</span><span class="p">({</span>
    <span class="s2">&quot;insee_2025_population_total_all&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">76_452</span><span class="p">,</span> <span class="mi">1_663_974</span><span class="p">],</span>
    <span class="s2">&quot;insee_2025_population_total_women&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">38_173</span><span class="p">,</span> <span class="mi">868_376</span><span class="p">],</span>
    <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Lozre&quot;</span><span class="p">,</span> <span class="s2">&quot;Hautes-de-Seine&quot;</span><span class="p">]</span>
<span class="p">})</span>
<span class="n">rel</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">sql</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">SELECT * </span>
<span class="s2">FROM new_dataframe df </span>
<span class="s2">JOIN MyHeuristRecord h</span>
<span class="s2">    ON df.name = h.department</span>
<span class="s2">&quot;&quot;&quot;</span><span class="p">)</span>
</code></pre></div>







  
  






                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": [], "search": "../../assets/javascripts/workers/search.f8cc74c7.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.f1b6f286.min.js"></script>
      
    
  </body>
</html>